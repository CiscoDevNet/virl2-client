<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<topology xmlns="http://www.cisco.com/VIRL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" schemaVersion="0.95" xsi:schemaLocation="http://www.cisco.com/VIRL https://raw.github.com/CiscoVIRL/schema/v0.95/virl.xsd">
    <node name="asav-1" type="SIMPLE" subtype="ASAv" location="106,89">
        <extensions>
            <entry key="config" type="string">! ASAv Config generated on 2019-07-20 07:12
! by autonetkit_0.24.0
!
hostname asav-1
username cisco password cisco privilege 15
enable password cisco
passwd cisco
names
!
interface GigabitEthernet0/0
  description to unmanagedswitch-1
  duplex full
  nameif outside
  security-level 0
  no shutdown
  ip address 10.0.0.3 255.255.128.0
interface Management0/0
  description OOB Management
  duplex full
  management-only
  nameif mgmt
  security-level 100
  no shutdown
  ! Configured on launch
  no ip address
!
same-security-traffic permit inter-interface
logging enable
logging asdm informational
user-identity default-domain LOCAL
aaa authentication ssh console LOCAL
http server enable
http 0.0.0.0 0.0.0.0 mgmt
ssh 0.0.0.0 0.0.0.0 mgmt
telnet 0.0.0.0 0.0.0.0 mgmt
http 0.0.0.0 0.0.0.0 outside
ssh 0.0.0.0 0.0.0.0 outside
telnet 0.0.0.0 0.0.0.0 outside
ssh version 2
crypto key generate rsa modulus 768
telnet timeout 15
console timeout 0
username cisco password cisco privilege 15
!
class-map inspection_default
 match default-inspection-traffic
!
!
policy-map type inspect dns preset_dns_map
 parameters
  message-length maximum client auto
  message-length maximum 512
policy-map global_policy
 class inspection_default
  inspect ip-options
  inspect netbios
  inspect rtsp
  inspect sunrpc
  inspect tftp
  inspect xdmcp
  inspect dns preset_dns_map
  inspect ftp
  inspect h323 h225
  inspect h323 ras
  inspect rsh
  inspect esmtp
  inspect sqlnet
  inspect sip
  inspect skinny
  inspect icmp
  inspect http
!
service-policy global_policy global
no call-home reporting anonymous
call-home
 profile CiscoTAC-1
  no active
end
        </entry>
            <entry key="AutoNetkit.mgmt_ip" type="string"></entry>
        </extensions>
        <interface id="0" name="GigabitEthernet0/0" ipv4="10.0.0.3" netPrefixLenV4="17"/>
    </node>
    <node name="csr1000v-1" type="SIMPLE" subtype="CSR1000v" location="108,167" ipv4="192.168.0.22">
        <extensions>
            <entry key="config" type="string">! IOS Config generated on 2019-07-20 07:12
! by autonetkit_0.24.0
!
hostname csr1000v-1
boot-start-marker
boot-end-marker
!
vrf definition Mgmt-intf
!
 address-family ipv4
 exit-address-family
 !
 address-family ipv6
 exit-address-family
!
!
!
license accept end user agreement
license boot level premium
!
!
no aaa new-model
!
!
ipv6 unicast-routing
!
!
service timestamps debug datetime msec
service timestamps log datetime msec
no service password-encryption
no service config
enable password cisco
enable secret 4 tnhtc92DXBhelxjYk8LWJrPV36S2i4ntXrpb4RFmfqY
ip classless
ip subnet-zero
no ip domain lookup
ip domain name virl.info
crypto key generate rsa modulus 768
ip ssh server algorithm authentication password
username cisco privilege 15 secret cisco
line vty 0 4
 transport input ssh telnet
 exec-timeout 720 0
 password cisco
 login local
line con 0
 password cisco
!
no cdp run
!
!
interface Loopback0
  description Loopback
  ip address 192.168.0.22 255.255.255.255
!
interface GigabitEthernet1
  description OOB Management
  vrf forwarding Mgmt-intf
  ! Configured on launch
  no ip address
  no shutdown
!
interface GigabitEthernet2
  description to unmanagedswitch-1
  ip address 10.0.0.10 255.255.128.0
  ip ospf cost 1
  no shutdown
!
!
!
router ospf 1
  network 192.168.0.22 0.0.0.0 area 0
  log-adjacency-changes
  passive-interface Loopback0
  network 10.0.0.0 0.0.127.255 area 0
!
!
router bgp 1
  bgp router-id 192.168.0.22
  no synchronization
! ibgp
  ! ibgp peers
  !
  neighbor 192.168.0.13 remote-as 1
  neighbor 192.168.0.13 description iBGP peer iol-1
  neighbor 192.168.0.13 update-source Loopback0
  !
  neighbor 192.168.0.14 remote-as 1
  neighbor 192.168.0.14 description iBGP peer iosv-1
  neighbor 192.168.0.14 update-source Loopback0
  !
  neighbor 192.168.0.19 remote-as 1
  neighbor 192.168.0.19 description iBGP peer iosv-2
  neighbor 192.168.0.19 update-source Loopback0
  !
  neighbor 192.168.0.23 remote-as 1
  neighbor 192.168.0.23 description iBGP peer iosxrv9000-1
  neighbor 192.168.0.23 update-source Loopback0
  !
  neighbor 192.168.0.24 remote-as 1
  neighbor 192.168.0.24 description iBGP peer nx-osv9000-1
  neighbor 192.168.0.24 update-source Loopback0
  !
!
 !
 address-family ipv4
  network 192.168.0.22 mask 255.255.255.255
  neighbor 192.168.0.13 activate
  neighbor 192.168.0.14 activate
  neighbor 192.168.0.19 activate
  neighbor 192.168.0.21 activate
  neighbor 192.168.0.23 activate
  neighbor 192.168.0.16 activate
  neighbor 192.168.0.24 activate
  neighbor 192.168.0.18 activate
 exit-address-family
!
!
!
end</entry>
            <entry key="AutoNetkit.mgmt_ip" type="string"></entry>
        </extensions>
        <interface id="0" name="GigabitEthernet2" ipv4="10.0.0.10" netPrefixLenV4="17"/>
    </node>
    <node name="coreos-1" type="SIMPLE" subtype="CoreOS" location="207,85">
        <extensions>
            <entry key="config" type="string">#cloud-config
coreos:
  units:
  - name: 01dhcp.service
    command: start
    content: |-
      [Service]
      Type=oneshot
      ExecStart=/usr/bin/ip addr flush dev eth1
      ExecStart=/usr/bin/ip addr flush dev eth0
  - name: systemd-networkd.service
    command: restart
  - name: rclocal.service
    command: start
    content: |-
      [Unit]
      After=network.target
      [Service]
      Type=oneshot
      ExecStart=/bin/bash /etc/rc.local start
      RemainAfterExit=yes
users:
- gecos: User configured by VIRL Configuration Engine 0.23.10
  groups:
  - sudo
  - docker
  - wheel
  name: cisco
  passwd: $6$SALT$ftmxELMXQk1TnMOtsKtHSjACc2I.67Lk/Dl19QuIguH2Mqx4L0WqmGPWZ1SSKxHU5v5dlDgieaMEfRuyqz2qt1
write_files:
- path: /etc/rc.local
  owner: root:root
  permissions: '0755'
  content: |-
    #!/bin/sh
    ifconfig eth1 up 10.0.0.4 netmask 255.255.128.0
    route add -host 192.168.0.13 gw 10.0.0.1 dev eth1
    route add -host 192.168.0.14 gw 10.0.0.1 dev eth1
    route add -host 192.168.0.16 gw 10.0.0.1 dev eth1
    route add -host 192.168.0.21 gw 10.0.0.1 dev eth1
    route add -host 192.168.0.24 gw 10.0.0.1 dev eth1
    route add -net 10.0.0.0/16 gw 10.0.0.1 dev eth1
    route add -net 192.168.0.18/31 gw 10.0.0.1 dev eth1
    route add -net 192.168.0.22/31 gw 10.0.0.1 dev eth1
    route add -host 192.168.0.13 gw 10.0.0.7 dev eth1
    route add -host 192.168.0.14 gw 10.0.0.7 dev eth1
    route add -host 192.168.0.16 gw 10.0.0.7 dev eth1
    route add -host 192.168.0.21 gw 10.0.0.7 dev eth1
    route add -host 192.168.0.24 gw 10.0.0.7 dev eth1
    route add -net 10.0.0.0/16 gw 10.0.0.7 dev eth1
    route add -net 192.168.0.18/31 gw 10.0.0.7 dev eth1
    route add -net 192.168.0.22/31 gw 10.0.0.7 dev eth1
    route add -host 192.168.0.13 gw 10.0.0.2 dev eth1
    route add -host 192.168.0.14 gw 10.0.0.2 dev eth1
    route add -host 192.168.0.16 gw 10.0.0.2 dev eth1
    route add -host 192.168.0.21 gw 10.0.0.2 dev eth1
    route add -host 192.168.0.24 gw 10.0.0.2 dev eth1
    route add -net 10.0.0.0/16 gw 10.0.0.2 dev eth1
    route add -net 192.168.0.18/31 gw 10.0.0.2 dev eth1
    route add -net 192.168.0.22/31 gw 10.0.0.2 dev eth1
    route add -host 192.168.0.13 gw 10.0.0.6 dev eth1
    route add -host 192.168.0.14 gw 10.0.0.6 dev eth1
    route add -host 192.168.0.16 gw 10.0.0.6 dev eth1
    route add -host 192.168.0.21 gw 10.0.0.6 dev eth1
    route add -host 192.168.0.24 gw 10.0.0.6 dev eth1
    route add -net 10.0.0.0/16 gw 10.0.0.6 dev eth1
    route add -net 192.168.0.18/31 gw 10.0.0.6 dev eth1
    route add -net 192.168.0.22/31 gw 10.0.0.6 dev eth1
    route add -host 192.168.0.13 gw 10.0.0.8 dev eth1
    route add -host 192.168.0.14 gw 10.0.0.8 dev eth1
    route add -host 192.168.0.16 gw 10.0.0.8 dev eth1
    route add -host 192.168.0.21 gw 10.0.0.8 dev eth1
    route add -host 192.168.0.24 gw 10.0.0.8 dev eth1
    route add -net 10.0.0.0/16 gw 10.0.0.8 dev eth1
    route add -net 192.168.0.18/31 gw 10.0.0.8 dev eth1
    route add -net 192.168.0.22/31 gw 10.0.0.8 dev eth1
    route add -host 192.168.0.13 gw 10.0.0.9 dev eth1
    route add -host 192.168.0.14 gw 10.0.0.9 dev eth1
    route add -host 192.168.0.16 gw 10.0.0.9 dev eth1
    route add -host 192.168.0.21 gw 10.0.0.9 dev eth1
    route add -host 192.168.0.24 gw 10.0.0.9 dev eth1
    route add -net 10.0.0.0/16 gw 10.0.0.9 dev eth1
    route add -net 192.168.0.18/31 gw 10.0.0.9 dev eth1
    route add -net 192.168.0.22/31 gw 10.0.0.9 dev eth1
    route add -host 192.168.0.13 gw 10.0.0.10 dev eth1
    route add -host 192.168.0.14 gw 10.0.0.10 dev eth1
    route add -host 192.168.0.16 gw 10.0.0.10 dev eth1
    route add -host 192.168.0.21 gw 10.0.0.10 dev eth1
    route add -host 192.168.0.24 gw 10.0.0.10 dev eth1
    route add -net 10.0.0.0/16 gw 10.0.0.10 dev eth1
    route add -net 192.168.0.18/31 gw 10.0.0.10 dev eth1
    route add -net 192.168.0.22/31 gw 10.0.0.10 dev eth1
    route add -host 192.168.0.13 gw 10.0.0.12 dev eth1
    route add -host 192.168.0.14 gw 10.0.0.12 dev eth1
    route add -host 192.168.0.16 gw 10.0.0.12 dev eth1
    route add -host 192.168.0.21 gw 10.0.0.12 dev eth1
    route add -host 192.168.0.24 gw 10.0.0.12 dev eth1
    route add -net 10.0.0.0/16 gw 10.0.0.12 dev eth1
    route add -net 192.168.0.18/31 gw 10.0.0.12 dev eth1
    route add -net 192.168.0.22/31 gw 10.0.0.12 dev eth1
    route add -host 192.168.0.13 gw 10.0.0.11 dev eth1
    route add -host 192.168.0.14 gw 10.0.0.11 dev eth1
    route add -host 192.168.0.16 gw 10.0.0.11 dev eth1
    route add -host 192.168.0.21 gw 10.0.0.11 dev eth1
    route add -host 192.168.0.24 gw 10.0.0.11 dev eth1
    route add -net 10.0.0.0/16 gw 10.0.0.11 dev eth1
    route add -net 192.168.0.18/31 gw 10.0.0.11 dev eth1
    route add -net 192.168.0.22/31 gw 10.0.0.11 dev eth1
    exit 0
</entry>
        </extensions>
        <interface id="0" name="eth1" ipv4="10.0.0.4" netPrefixLenV4="17"/>
    </node>
    <node name="docker-1" type="SIMPLE" subtype="docker" location="284,85">
        <extensions>
            <entry key="config" type="string">#cloud-config
hostname: docker-1
manage_etc_hosts: true
write_files:
- path: /etc/rc.local
  owner: root:root
  permissions: '0755'
  content: |-
    #!/bin/sh
    ifconfig eth1 up 10.0.0.5 netmask 255.255.128.0
    route add -host 192.168.0.13 gw 10.0.0.1 dev eth1
    route add -host 192.168.0.14 gw 10.0.0.1 dev eth1
    route add -host 192.168.0.16 gw 10.0.0.1 dev eth1
    route add -host 192.168.0.21 gw 10.0.0.1 dev eth1
    route add -host 192.168.0.24 gw 10.0.0.1 dev eth1
    route add -net 10.0.0.0/16 gw 10.0.0.1 dev eth1
    route add -net 192.168.0.18/31 gw 10.0.0.1 dev eth1
    route add -net 192.168.0.22/31 gw 10.0.0.1 dev eth1
    route add -host 192.168.0.13 gw 10.0.0.7 dev eth1
    route add -host 192.168.0.14 gw 10.0.0.7 dev eth1
    route add -host 192.168.0.16 gw 10.0.0.7 dev eth1
    route add -host 192.168.0.21 gw 10.0.0.7 dev eth1
    route add -host 192.168.0.24 gw 10.0.0.7 dev eth1
    route add -net 10.0.0.0/16 gw 10.0.0.7 dev eth1
    route add -net 192.168.0.18/31 gw 10.0.0.7 dev eth1
    route add -net 192.168.0.22/31 gw 10.0.0.7 dev eth1
    route add -host 192.168.0.13 gw 10.0.0.2 dev eth1
    route add -host 192.168.0.14 gw 10.0.0.2 dev eth1
    route add -host 192.168.0.16 gw 10.0.0.2 dev eth1
    route add -host 192.168.0.21 gw 10.0.0.2 dev eth1
    route add -host 192.168.0.24 gw 10.0.0.2 dev eth1
    route add -net 10.0.0.0/16 gw 10.0.0.2 dev eth1
    route add -net 192.168.0.18/31 gw 10.0.0.2 dev eth1
    route add -net 192.168.0.22/31 gw 10.0.0.2 dev eth1
    route add -host 192.168.0.13 gw 10.0.0.6 dev eth1
    route add -host 192.168.0.14 gw 10.0.0.6 dev eth1
    route add -host 192.168.0.16 gw 10.0.0.6 dev eth1
    route add -host 192.168.0.21 gw 10.0.0.6 dev eth1
    route add -host 192.168.0.24 gw 10.0.0.6 dev eth1
    route add -net 10.0.0.0/16 gw 10.0.0.6 dev eth1
    route add -net 192.168.0.18/31 gw 10.0.0.6 dev eth1
    route add -net 192.168.0.22/31 gw 10.0.0.6 dev eth1
    route add -host 192.168.0.13 gw 10.0.0.8 dev eth1
    route add -host 192.168.0.14 gw 10.0.0.8 dev eth1
    route add -host 192.168.0.16 gw 10.0.0.8 dev eth1
    route add -host 192.168.0.21 gw 10.0.0.8 dev eth1
    route add -host 192.168.0.24 gw 10.0.0.8 dev eth1
    route add -net 10.0.0.0/16 gw 10.0.0.8 dev eth1
    route add -net 192.168.0.18/31 gw 10.0.0.8 dev eth1
    route add -net 192.168.0.22/31 gw 10.0.0.8 dev eth1
    route add -host 192.168.0.13 gw 10.0.0.9 dev eth1
    route add -host 192.168.0.14 gw 10.0.0.9 dev eth1
    route add -host 192.168.0.16 gw 10.0.0.9 dev eth1
    route add -host 192.168.0.21 gw 10.0.0.9 dev eth1
    route add -host 192.168.0.24 gw 10.0.0.9 dev eth1
    route add -net 10.0.0.0/16 gw 10.0.0.9 dev eth1
    route add -net 192.168.0.18/31 gw 10.0.0.9 dev eth1
    route add -net 192.168.0.22/31 gw 10.0.0.9 dev eth1
    route add -host 192.168.0.13 gw 10.0.0.10 dev eth1
    route add -host 192.168.0.14 gw 10.0.0.10 dev eth1
    route add -host 192.168.0.16 gw 10.0.0.10 dev eth1
    route add -host 192.168.0.21 gw 10.0.0.10 dev eth1
    route add -host 192.168.0.24 gw 10.0.0.10 dev eth1
    route add -net 10.0.0.0/16 gw 10.0.0.10 dev eth1
    route add -net 192.168.0.18/31 gw 10.0.0.10 dev eth1
    route add -net 192.168.0.22/31 gw 10.0.0.10 dev eth1
    route add -host 192.168.0.13 gw 10.0.0.12 dev eth1
    route add -host 192.168.0.14 gw 10.0.0.12 dev eth1
    route add -host 192.168.0.16 gw 10.0.0.12 dev eth1
    route add -host 192.168.0.21 gw 10.0.0.12 dev eth1
    route add -host 192.168.0.24 gw 10.0.0.12 dev eth1
    route add -net 10.0.0.0/16 gw 10.0.0.12 dev eth1
    route add -net 192.168.0.18/31 gw 10.0.0.12 dev eth1
    route add -net 192.168.0.22/31 gw 10.0.0.12 dev eth1
    route add -host 192.168.0.13 gw 10.0.0.11 dev eth1
    route add -host 192.168.0.14 gw 10.0.0.11 dev eth1
    route add -host 192.168.0.16 gw 10.0.0.11 dev eth1
    route add -host 192.168.0.21 gw 10.0.0.11 dev eth1
    route add -host 192.168.0.24 gw 10.0.0.11 dev eth1
    route add -net 10.0.0.0/16 gw 10.0.0.11 dev eth1
    route add -net 192.168.0.18/31 gw 10.0.0.11 dev eth1
    route add -net 192.168.0.22/31 gw 10.0.0.11 dev eth1
    exit 0
</entry>
        </extensions>
        <interface id="0" name="eth1" ipv4="10.0.0.5" netPrefixLenV4="17"/>
    </node>
    <node name="iosxrv9000-1" type="SIMPLE" subtype="IOS XRv 9000" location="461,87" ipv4="192.168.0.23">
        <extensions>
            <entry key="config" type="string">!  IOS-XR9000v Config generated on 2019-07-20 07:12
! by autonetkit_0.24.0
!
hostname iosxrv9000-1
service timestamps log datetime msec
service timestamps debug datetime msec
telnet vrf default ipv4 server max-servers 10
telnet vrf Mgmt-intf ipv4 server max-servers 10
domain lookup disable
vrf Mgmt-intf
 address-family ipv4 unicast
 !
 address-family ipv6 unicast
 !
!
domain name virl.info
ssh server v2
ssh server vrf Mgmt-intf
!
line template vty
timestamp
exec-timeout 720 0
!
line console
exec-timeout 0 0
!
line default
exec-timeout 720 0
!
vty-pool default 0 50
control-plane
 management-plane
  inband
   interface all
    allow all
   !
  !
 !
!
username cisco
group root-lr
group cisco-support
password cisco
!
username admin
group root-lr
group cisco-support
password admin
!
username lab
group root-lr
group cisco-support
password lab
!
!
interface Loopback0
  description Loopback
  ipv4 address 192.168.0.23 255.255.255.255
!
interface GigabitEthernet0/0/0/0
  description to unmanagedswitch-1
  ipv4 address 10.0.0.12 255.255.128.0
  no shutdown
!
interface MgmtEth0/RP0/CPU0/0
  description OOB Management
  ! Configured on launch
  vrf Mgmt-intf
  no ipv4 address
  no shutdown
!
!
router ospf 1
  log adjacency changes
  area 0
    interface GigabitEthernet0/0/0/0
      cost 1
    !
    interface Loopback0
      passive enable
    !
  !
!
route-policy bgp_in
  pass
end-policy
!
route-policy bgp_out
  pass
end-policy
!
router bgp 1
  bgp router-id 192.168.0.23
  address-family ipv4 unicast
    network 192.168.0.23/32
  !
! iBGP
!
! iBGP peers
  !
  neighbor 192.168.0.22
    description iBGP peer csr1000v-1
    remote-as 1
    update-source Loopback0
    address-family ipv4 unicast
    !
    !
  !
  neighbor 192.168.0.13
    description iBGP peer iol-1
    remote-as 1
    update-source Loopback0
    address-family ipv4 unicast
    !
    !
  !
  neighbor 192.168.0.14
    description iBGP peer iosv-1
    remote-as 1
    update-source Loopback0
    address-family ipv4 unicast
    !
    !
  !
  neighbor 192.168.0.19
    description iBGP peer iosv-2
    remote-as 1
    update-source Loopback0
    address-family ipv4 unicast
    !
    !
  !
  neighbor 192.168.0.24
    description iBGP peer nx-osv9000-1
    remote-as 1
    update-source Loopback0
    address-family ipv4 unicast
    !
    !
  !
!
        </entry>
            <entry key="AutoNetkit.mgmt_ip" type="string"></entry>
        </extensions>
        <interface id="0" name="GigabitEthernet0/0/0/0" ipv4="10.0.0.12" netPrefixLenV4="17"/>
    </node>
    <node name="iosv-1" type="SIMPLE" subtype="IOSv" location="667,197" ipv4="192.168.0.14">
        <extensions>
            <entry key="config" type="string">! IOS Config generated on 2019-07-20 07:12
! by autonetkit_0.24.0
!
hostname iosv-1
boot-start-marker
boot-end-marker
!
vrf definition Mgmt-intf
!
 address-family ipv4
 exit-address-family
 !
 address-family ipv6
 exit-address-family
!
!
!
no aaa new-model
!
!
ip cef
ipv6 unicast-routing
ipv6 cef
!
!
service timestamps debug datetime msec
service timestamps log datetime msec
no service password-encryption
no service config
enable password cisco
ip classless
ip subnet-zero
no ip domain lookup
ip domain name virl.info
crypto key generate rsa modulus 768
ip ssh server algorithm authentication password
username cisco privilege 15 secret cisco
line vty 0 4
 transport input ssh telnet
 exec-timeout 720 0
 password cisco
 login local
line con 0
 password cisco
!
no cdp run
!
!
interface Loopback0
  description Loopback
  ip address 192.168.0.14 255.255.255.255
!
interface GigabitEthernet0/0
  description OOB Management
  vrf forwarding Mgmt-intf
  ! Configured on launch
  no ip address
  duplex full
  speed auto
  no shutdown
!
interface GigabitEthernet0/1
  description to unmanagedswitch-1
  ip address 10.0.0.7 255.255.128.0
  ip ospf cost 1
  duplex full
  speed auto
  no shutdown
!
!
!
router ospf 1
  network 192.168.0.14 0.0.0.0 area 0
  log-adjacency-changes
  passive-interface Loopback0
  network 10.0.0.0 0.0.127.255 area 0
!
!
router bgp 1
  bgp router-id 192.168.0.14
  no synchronization
! ibgp
  ! ibgp peers
  !
  neighbor 192.168.0.22 remote-as 1
  neighbor 192.168.0.22 description iBGP peer csr1000v-1
  neighbor 192.168.0.22 update-source Loopback0
  !
  neighbor 192.168.0.13 remote-as 1
  neighbor 192.168.0.13 description iBGP peer iol-1
  neighbor 192.168.0.13 update-source Loopback0
  !
  neighbor 192.168.0.19 remote-as 1
  neighbor 192.168.0.19 description iBGP peer iosv-2
  neighbor 192.168.0.19 update-source Loopback0
  !
  neighbor 192.168.0.23 remote-as 1
  neighbor 192.168.0.23 description iBGP peer iosxrv9000-1
  neighbor 192.168.0.23 update-source Loopback0
  !
  neighbor 192.168.0.24 remote-as 1
  neighbor 192.168.0.24 description iBGP peer nx-osv9000-1
  neighbor 192.168.0.24 update-source Loopback0
  !
!
 !
 address-family ipv4
  network 192.168.0.14 mask 255.255.255.255
  neighbor 192.168.0.22 activate
  neighbor 192.168.0.13 activate
  neighbor 192.168.0.19 activate
  neighbor 192.168.0.21 activate
  neighbor 192.168.0.23 activate
  neighbor 192.168.0.16 activate
  neighbor 192.168.0.24 activate
  neighbor 192.168.0.18 activate
 exit-address-family
!
!
!
end</entry>
            <entry key="AutoNetkit.mgmt_ip" type="string"></entry>
        </extensions>
        <interface id="0" name="GigabitEthernet0/1" ipv4="10.0.0.7" netPrefixLenV4="17"/>
    </node>
    <node name="iosvl2-1" type="SIMPLE" subtype="IOSvL2" location="672,291">
        <extensions>
            <entry key="config" type="string">! IOSvL2 Config generated on 2019-07-20 07:12
! by autonetkit_0.24.0
!
version 15.2
service timestamps debug datetime msec
service timestamps log datetime msec
no service password-encryption
service compress-config
no service config
enable password cisco
ip classless
ip subnet-zero
no ip domain lookup
!
line vty 0 4
transport input ssh telnet
exec-timeout 720 0
password cisco
login
!
line con 0
password cisco
!
hostname iosvl2-1
!
boot-start-marker
boot-end-marker
!
!
!
no aaa new-model
!
vtp domain virl.lab
vtp mode transparent
!
vlan 2
  name ank_vlan2
!
!
!
!
no cdp run
!
!
!
ip cef
no ipv6 cef
!
!
spanning-tree mode pvst
spanning-tree extend system-id
!
vlan internal allocation policy ascending
!
!
!
!
vrf definition Mgmt-intf
!
 address-family ipv4
 exit-address-family
 !
 address-family ipv6
 exit-address-family
!
!
!
!
!
interface Loopback0
  description Loopback
!
interface GigabitEthernet0/0
  description OOB management
  ! Configured on launch
  no switchport
  vrf forwarding Mgmt-intf
  no ip address
  no shutdown
!
interface GigabitEthernet0/1
  description to unmanagedswitch-1
  switchport access vlan 2
  switchport mode access
  switchport trunk encapsulation dot1q
  switchport mode trunk
  no shutdown
!
!
ip forward-protocol nd
!
no ip http server
no ip http secure-server
!
!
!
!
!
!
control-plane
!
!
!
end
        </entry>
            <entry key="AutoNetkit.mgmt_ip" type="string"></entry>
        </extensions>
        <interface id="0" name="GigabitEthernet0/1"/>
    </node>
    <node name="lxc-1" type="SIMPLE" subtype="lxc" location="107,434">
        <extensions>
            <entry key="config" type="string">#cloud-config
bootcmd:
- ln -s -t /etc/rc.d /etc/rc.local
hostname: lxc-1
manage_etc_hosts: true
runcmd:
- systemctl start rc-local
- sed -i '/^\s*PasswordAuthentication\s\+no/d' /etc/ssh/sshd_config
- echo "UseDNS no" &gt;&gt; /etc/ssh/sshd_config
- service ssh restart
- service sshd restart
users:
- default
- gecos: User configured by VIRL Configuration Engine 0.23.10
  lock-passwd: false
  name: cisco
  plain-text-passwd: cisco
  shell: /bin/bash
  ssh-authorized-keys:
  - VIRL-USER-SSH-PUBLIC-KEY
  sudo: ALL=(ALL) ALL
write_files:
- path: /etc/systemd/system/dhclient@.service
  content: |
    [Unit]
    Description=Run dhclient on %i interface
    After=network.target
    [Service]
    Type=oneshot
    ExecStart=/sbin/dhclient %i -pf /var/run/dhclient.%i.pid -lf /var/lib/dhclient/dhclient.%i.lease
    RemainAfterExit=yes
  owner: root:root
  permissions: '0644'
- path: /etc/rc.local
  owner: root:root
  permissions: '0755'
  content: |-
    #!/bin/sh
    ifconfig eth1 up 10.0.128.6 netmask 255.255.128.0
    route add -host 192.168.0.13 gw 10.0.128.12 dev eth1
    route add -host 192.168.0.14 gw 10.0.128.12 dev eth1
    route add -host 192.168.0.16 gw 10.0.128.12 dev eth1
    route add -host 192.168.0.21 gw 10.0.128.12 dev eth1
    route add -host 192.168.0.24 gw 10.0.128.12 dev eth1
    route add -net 10.0.0.0/16 gw 10.0.128.12 dev eth1
    route add -net 192.168.0.18/31 gw 10.0.128.12 dev eth1
    route add -net 192.168.0.22/31 gw 10.0.128.12 dev eth1
    exit 0
</entry>
        </extensions>
        <interface id="0" name="eth1" ipv4="10.0.128.6" netPrefixLenV4="17"/>
    </node>
    <node name="lxc-iperf-1" type="SIMPLE" subtype="lxc-iperf" location="110,535">
        <extensions>
            <entry key="config" type="string">#cloud-config
bootcmd:
- ln -s -t /etc/rc.d /etc/rc.local
hostname: lxc-iperf-1
manage_etc_hosts: true
runcmd:
- systemctl start rc-local
- sed -i '/^\s*PasswordAuthentication\s\+no/d' /etc/ssh/sshd_config
- echo "UseDNS no" &gt;&gt; /etc/ssh/sshd_config
- service ssh restart
- service sshd restart
users:
- default
- gecos: User configured by VIRL Configuration Engine 0.23.10
  lock-passwd: false
  name: cisco
  plain-text-passwd: cisco
  shell: /bin/bash
  ssh-authorized-keys:
  - VIRL-USER-SSH-PUBLIC-KEY
  sudo: ALL=(ALL) ALL
write_files:
- path: /etc/systemd/system/dhclient@.service
  content: |
    [Unit]
    Description=Run dhclient on %i interface
    After=network.target
    [Service]
    Type=oneshot
    ExecStart=/sbin/dhclient %i -pf /var/run/dhclient.%i.pid -lf /var/lib/dhclient/dhclient.%i.lease
    RemainAfterExit=yes
  owner: root:root
  permissions: '0644'
- path: /etc/rc.local
  owner: root:root
  permissions: '0755'
  content: |-
    #!/bin/sh
    ifconfig eth1 up 10.0.128.7 netmask 255.255.128.0
    route add -host 192.168.0.13 gw 10.0.128.12 dev eth1
    route add -host 192.168.0.14 gw 10.0.128.12 dev eth1
    route add -host 192.168.0.16 gw 10.0.128.12 dev eth1
    route add -host 192.168.0.21 gw 10.0.128.12 dev eth1
    route add -host 192.168.0.24 gw 10.0.128.12 dev eth1
    route add -net 10.0.0.0/16 gw 10.0.128.12 dev eth1
    route add -net 192.168.0.18/31 gw 10.0.128.12 dev eth1
    route add -net 192.168.0.22/31 gw 10.0.128.12 dev eth1
    exit 0
</entry>
        </extensions>
        <interface id="0" name="eth1" ipv4="10.0.128.7" netPrefixLenV4="17"/>
    </node>
    <node name="lxc-ostinato-drone-1" type="SIMPLE" subtype="lxc-ostinato-drone" location="621,664">
        <extensions>
            <entry key="config" type="string">#cloud-config
bootcmd:
- ln -s -t /etc/rc.d /etc/rc.local
hostname: lxc-ostinato-drone-1
manage_etc_hosts: true
runcmd:
- systemctl start rc-local
- sed -i '/^\s*PasswordAuthentication\s\+no/d' /etc/ssh/sshd_config
- echo "UseDNS no" &gt;&gt; /etc/ssh/sshd_config
- service ssh restart
- service sshd restart
users:
- default
- gecos: User configured by VIRL Configuration Engine 0.23.10
  lock-passwd: false
  name: cisco
  plain-text-passwd: cisco
  shell: /bin/bash
  ssh-authorized-keys:
  - VIRL-USER-SSH-PUBLIC-KEY
  sudo: ALL=(ALL) ALL
write_files:
- path: /etc/systemd/system/dhclient@.service
  content: |
    [Unit]
    Description=Run dhclient on %i interface
    After=network.target
    [Service]
    Type=oneshot
    ExecStart=/sbin/dhclient %i -pf /var/run/dhclient.%i.pid -lf /var/lib/dhclient/dhclient.%i.lease
    RemainAfterExit=yes
  owner: root:root
  permissions: '0644'
- path: /etc/rc.local
  owner: root:root
  permissions: '0755'
  content: |-
    #!/bin/sh
    ifconfig eth1 up 10.0.128.8 netmask 255.255.128.0
    route add -host 192.168.0.13 gw 10.0.128.12 dev eth1
    route add -host 192.168.0.14 gw 10.0.128.12 dev eth1
    route add -host 192.168.0.16 gw 10.0.128.12 dev eth1
    route add -host 192.168.0.21 gw 10.0.128.12 dev eth1
    route add -host 192.168.0.24 gw 10.0.128.12 dev eth1
    route add -net 10.0.0.0/16 gw 10.0.128.12 dev eth1
    route add -net 192.168.0.18/31 gw 10.0.128.12 dev eth1
    route add -net 192.168.0.22/31 gw 10.0.128.12 dev eth1
    exit 0
</entry>
        </extensions>
        <interface id="0" name="eth1" ipv4="10.0.128.8" netPrefixLenV4="17"/>
    </node>
    <node name="lxc-sshd-1" type="SIMPLE" subtype="lxc-sshd" location="421,661">
        <extensions>
            <entry key="config" type="string">#cloud-config
bootcmd:
- ln -s -t /etc/rc.d /etc/rc.local
hostname: lxc-sshd-1
manage_etc_hosts: true
runcmd:
- systemctl start rc-local
- sed -i '/^\s*PasswordAuthentication\s\+no/d' /etc/ssh/sshd_config
- echo "UseDNS no" &gt;&gt; /etc/ssh/sshd_config
- service ssh restart
- service sshd restart
users:
- default
- gecos: User configured by VIRL Configuration Engine 0.23.10
  lock-passwd: false
  name: cisco
  plain-text-passwd: cisco
  shell: /bin/bash
  ssh-authorized-keys:
  - VIRL-USER-SSH-PUBLIC-KEY
  sudo: ALL=(ALL) ALL
write_files:
- path: /etc/systemd/system/dhclient@.service
  content: |
    [Unit]
    Description=Run dhclient on %i interface
    After=network.target
    [Service]
    Type=oneshot
    ExecStart=/sbin/dhclient %i -pf /var/run/dhclient.%i.pid -lf /var/lib/dhclient/dhclient.%i.lease
    RemainAfterExit=yes
  owner: root:root
  permissions: '0644'
- path: /etc/rc.local
  owner: root:root
  permissions: '0755'
  content: |-
    #!/bin/sh
    ifconfig eth1 up 10.0.128.9 netmask 255.255.128.0
    route add -host 192.168.0.13 gw 10.0.128.12 dev eth1
    route add -host 192.168.0.14 gw 10.0.128.12 dev eth1
    route add -host 192.168.0.16 gw 10.0.128.12 dev eth1
    route add -host 192.168.0.21 gw 10.0.128.12 dev eth1
    route add -host 192.168.0.24 gw 10.0.128.12 dev eth1
    route add -net 10.0.0.0/16 gw 10.0.128.12 dev eth1
    route add -net 192.168.0.18/31 gw 10.0.128.12 dev eth1
    route add -net 192.168.0.22/31 gw 10.0.128.12 dev eth1
    exit 0
</entry>
        </extensions>
        <interface id="0" name="eth1" ipv4="10.0.128.9" netPrefixLenV4="17"/>
    </node>
    <node name="nx-osv9000-1" type="SIMPLE" subtype="NX-OSv 9000" location="106,292" ipv4="192.168.0.24">
        <extensions>
            <entry key="config" type="string">! NX-OSv Config generated on 2019-07-20 07:12
! by autonetkit_0.24.0
!
version 6.2(1)
license grace-period
!
hostname nx-osv9000-1
vdc nx-osv9000-1 id 1
  limit-resource vlan minimum 16 maximum 4094
  limit-resource vrf minimum 2 maximum 4096
  limit-resource port-channel minimum 0 maximum 768
  limit-resource u4route-mem minimum 96 maximum 96
  limit-resource u6route-mem minimum 24 maximum 24
  limit-resource m4route-mem minimum 58 maximum 58
  limit-resource m6route-mem minimum 8 maximum 8

feature telnet

feature ospf
feature bgp

username adminbackup password 5 ! role network-operator
username admin password 5 $1$KuOSBsvW$Cy0TSD..gEBGBPjzpDgf51 role network-admin
username cisco password 5 $1$Nk7ZkwH0$fyiRmMMfIheqE3BqvcL0C1 role network-operator
username cisco role network-admin
username lab password 5 $1$buoy/oqy$.EXQz8rCn72ii8qtdldj00 role network-admin
no password strength-check
ip domain-lookup
copp profile strict
snmp-server user lab network-admin auth md5 0x5ceb414591539ee35159fca86fdfa101 priv 0x5ceb414591539ee35159fca86fdfa101 localizedkey
snmp-server user admin network-admin auth md5 0x328945d53e05e8e7207f8c20b142f0b7 priv 0x328945d53e05e8e7207f8c20b142f0b7 localizedkey
snmp-server user cisco network-operator auth md5 0x55b3c64a53fb95518e75358ee75e82e9 priv 0x55b3c64a53fb95518e75358ee75e82e9 localizedkey
snmp-server user cisco network-admin
rmon event 1 log trap public description FATAL(1) owner PMON@FATAL
rmon event 2 log trap public description CRITICAL(2) owner PMON@CRITICAL
rmon event 3 log trap public description ERROR(3) owner PMON@ERROR
rmon event 4 log trap public description WARNING(4) owner PMON@WARNING
rmon event 5 log trap public description INFORMATION(5) owner PMON@INFO


vlan 1

vrf context management
hardware forwarding unicast trace

interface Loopback0
  description Loopback
  ip address 192.168.0.24/32
  ip router ospf 1 area 0

interface Ethernet1/1
  description to unmanagedswitch-1
  no switchport
  ip address 10.0.0.11/17
  ip router ospf 1 area 0
  mac-address fa16.3e00.0001
  no shutdown

interface mgmt0
  description OOB Management
  ! Configured on launch
  no ip address
  mac-address fa16.3e00.0002
  no shutdown
  vrf member management


line console
line vty
router ospf 1
  router-id 192.168.0.24
router bgp 1
  router-id 192.168.0.24
  address-family ipv4 unicast
    network 192.168.0.24/32
  !
! iBGP
!
! iBGP peers
  !
  neighbor 192.168.0.22 remote-as 1
    description iBGP peer csr1000v-1
    update-source Loopback0
    address-family ipv4 unicast
    !
    !
  !
  neighbor 192.168.0.13 remote-as 1
    description iBGP peer iol-1
    update-source Loopback0
    address-family ipv4 unicast
    !
    !
  !
  neighbor 192.168.0.14 remote-as 1
    description iBGP peer iosv-1
    update-source Loopback0
    address-family ipv4 unicast
    !
    !
  !
  neighbor 192.168.0.19 remote-as 1
    description iBGP peer iosv-2
    update-source Loopback0
    address-family ipv4 unicast
    !
    !
  !
  neighbor 192.168.0.23 remote-as 1
    description iBGP peer iosxrv9000-1
    update-source Loopback0
    address-family ipv4 unicast
    !
    !
  !
        </entry>
            <entry key="AutoNetkit.mgmt_ip" type="string"></entry>
        </extensions>
        <interface id="0" name="Ethernet1/1" ipv4="10.0.0.11" netPrefixLenV4="17"/>
    </node>
    <node name="server-1" type="SIMPLE" subtype="server" location="637,592">
        <extensions>
            <entry key="config" type="string">#cloud-config
bootcmd:
- ln -s -t /etc/rc.d /etc/rc.local
hostname: server-1
manage_etc_hosts: true
runcmd:
- start ttyS0
- systemctl start getty@ttyS0.service
- systemctl start rc-local
- sed -i '/^\s*PasswordAuthentication\s\+no/d' /etc/ssh/sshd_config
- echo "UseDNS no" &gt;&gt; /etc/ssh/sshd_config
- service ssh restart
- service sshd restart
users:
- default
- gecos: User configured by VIRL Configuration Engine 0.23.10
  lock-passwd: false
  name: cisco
  plain-text-passwd: cisco
  shell: /bin/bash
  ssh-authorized-keys:
  - VIRL-USER-SSH-PUBLIC-KEY
  sudo: ALL=(ALL) ALL
write_files:
- path: /etc/init/ttyS0.conf
  owner: root:root
  content: |
    # ttyS0 - getty
    # This service maintains a getty on ttyS0 from the point the system is
    # started until it is shut down again.
    start on stopped rc or RUNLEVEL=[12345]
    stop on runlevel [!12345]
    respawn
    exec /sbin/getty -L 115200 ttyS0 vt102
  permissions: '0644'
- path: /etc/systemd/system/dhclient@.service
  content: |
    [Unit]
    Description=Run dhclient on %i interface
    After=network.target
    [Service]
    Type=oneshot
    ExecStart=/sbin/dhclient %i -pf /var/run/dhclient.%i.pid -lf /var/lib/dhclient/dhclient.%i.lease
    RemainAfterExit=yes
  owner: root:root
  permissions: '0644'
- path: /etc/rc.local
  owner: root:root
  permissions: '0755'
  content: |-
    #!/bin/sh
    ifconfig eth1 up 10.0.128.10 netmask 255.255.128.0
    route add -host 192.168.0.13 gw 10.0.128.12 dev eth1
    route add -host 192.168.0.14 gw 10.0.128.12 dev eth1
    route add -host 192.168.0.16 gw 10.0.128.12 dev eth1
    route add -host 192.168.0.21 gw 10.0.128.12 dev eth1
    route add -host 192.168.0.24 gw 10.0.128.12 dev eth1
    route add -net 10.0.0.0/16 gw 10.0.128.12 dev eth1
    route add -net 192.168.0.18/31 gw 10.0.128.12 dev eth1
    route add -net 192.168.0.22/31 gw 10.0.128.12 dev eth1
    exit 0
</entry>
        </extensions>
        <interface id="0" name="eth1" ipv4="10.0.128.10" netPrefixLenV4="17"/>
    </node>
    <node name="unmanagedswitch-1" type="SIMPLE" subtype="Unmanaged Switch" location="327,280">
        <interface id="0" name="link1"/>
        <interface id="1" name="link2"/>
        <interface id="2" name="link3"/>
        <interface id="3" name="link4"/>
        <interface id="4" name="link5"/>
        <interface id="5" name="link6"/>
        <interface id="6" name="link7"/>
        <interface id="7" name="link8"/>
        <interface id="8" name="link9"/>
        <interface id="9" name="link10"/>
        <interface id="10" name="link11"/>
        <interface id="11" name="link12"/>
        <interface id="12" name="link13"/>
        <interface id="13" name="link14"/>
        <interface id="14" name="link15"/>
    </node>
    <node name="lxc-sshd-2" type="SIMPLE" subtype="lxc-sshd" location="115,653">
        <extensions>
            <entry key="config" type="string">#cloud-config
bootcmd:
- ln -s -t /etc/rc.d /etc/rc.local
hostname: lxc-sshd-2
manage_etc_hosts: true
runcmd:
- systemctl start rc-local
- sed -i '/^\s*PasswordAuthentication\s\+no/d' /etc/ssh/sshd_config
- echo "UseDNS no" &gt;&gt; /etc/ssh/sshd_config
- service ssh restart
- service sshd restart
users:
- default
- gecos: User configured by VIRL Configuration Engine 0.23.10
  lock-passwd: false
  name: cisco
  plain-text-passwd: cisco
  shell: /bin/bash
  ssh-authorized-keys:
  - VIRL-USER-SSH-PUBLIC-KEY
  sudo: ALL=(ALL) ALL
write_files:
- path: /etc/systemd/system/dhclient@.service
  content: |
    [Unit]
    Description=Run dhclient on %i interface
    After=network.target
    [Service]
    Type=oneshot
    ExecStart=/sbin/dhclient %i -pf /var/run/dhclient.%i.pid -lf /var/lib/dhclient/dhclient.%i.lease
    RemainAfterExit=yes
  owner: root:root
  permissions: '0644'
- path: /etc/rc.local
  owner: root:root
  permissions: '0755'
  content: |-
    #!/bin/sh
    ifconfig eth1 up 10.0.128.13 netmask 255.255.128.0
    route add -host 192.168.0.13 gw 10.0.128.12 dev eth1
    route add -host 192.168.0.14 gw 10.0.128.12 dev eth1
    route add -host 192.168.0.16 gw 10.0.128.12 dev eth1
    route add -host 192.168.0.21 gw 10.0.128.12 dev eth1
    route add -host 192.168.0.24 gw 10.0.128.12 dev eth1
    route add -net 10.0.0.0/16 gw 10.0.128.12 dev eth1
    route add -net 192.168.0.18/31 gw 10.0.128.12 dev eth1
    route add -net 192.168.0.22/31 gw 10.0.128.12 dev eth1
    exit 0
</entry>
        </extensions>
        <interface id="0" name="eth1" ipv4="10.0.128.13" netPrefixLenV4="17"/>
    </node>
    <node name="lxc-routem-1" type="SIMPLE" subtype="lxc-routem" location="301,657">
        <extensions>
            <entry key="config" type="string">#cloud-config
bootcmd:
- ln -s -t /etc/rc.d /etc/rc.local
hostname: lxc-routem-1
manage_etc_hosts: true
runcmd:
- systemctl start rc-local
- sed -i '/^\s*PasswordAuthentication\s\+no/d' /etc/ssh/sshd_config
- echo "UseDNS no" &gt;&gt; /etc/ssh/sshd_config
- service ssh restart
- service sshd restart
users:
- default
- gecos: User configured by VIRL Configuration Engine 0.23.10
  lock-passwd: false
  name: cisco
  plain-text-passwd: cisco
  shell: /bin/bash
  ssh-authorized-keys:
  - VIRL-USER-SSH-PUBLIC-KEY
  sudo: ALL=(ALL) ALL
write_files:
- path: /etc/systemd/system/dhclient@.service
  content: |
    [Unit]
    Description=Run dhclient on %i interface
    After=network.target
    [Service]
    Type=oneshot
    ExecStart=/sbin/dhclient %i -pf /var/run/dhclient.%i.pid -lf /var/lib/dhclient/dhclient.%i.lease
    RemainAfterExit=yes
  owner: root:root
  permissions: '0644'
- path: /etc/rc.local
  owner: root:root
  permissions: '0755'
  content: |-
    #!/bin/sh
    ifconfig eth1 up 10.0.128.2 netmask 255.255.128.0
    route add -host 192.168.0.13 gw 10.0.128.12 dev eth1
    route add -host 192.168.0.14 gw 10.0.128.12 dev eth1
    route add -host 192.168.0.16 gw 10.0.128.12 dev eth1
    route add -host 192.168.0.21 gw 10.0.128.12 dev eth1
    route add -host 192.168.0.24 gw 10.0.128.12 dev eth1
    route add -net 10.0.0.0/16 gw 10.0.128.12 dev eth1
    route add -net 192.168.0.18/31 gw 10.0.128.12 dev eth1
    route add -net 192.168.0.22/31 gw 10.0.128.12 dev eth1
    exit 0
</entry>
        </extensions>
        <interface id="0" name="eth1" ipv4="10.0.128.2" netPrefixLenV4="17"/>
    </node>
    <node name="security-onion-1" type="SIMPLE" subtype="security-onion" location="631,510">
        <extensions>
            <entry key="config" type="string">#cloud-config
bootcmd:
- ln -s -t /etc/rc.d /etc/rc.local
hostname: security-onion-1
manage_etc_hosts: true
runcmd:
- start ttyS0
- systemctl start getty@ttyS0.service
- systemctl start rc-local
- sed -i '/^\s*PasswordAuthentication\s\+no/d' /etc/ssh/sshd_config
- echo "UseDNS no" &gt;&gt; /etc/ssh/sshd_config
- service ssh restart
- service sshd restart
users:
- default
- gecos: User configured by VIRL Configuration Engine 0.23.10
  lock-passwd: false
  name: cisco
  plain-text-passwd: cisco
  shell: /bin/bash
  ssh-authorized-keys:
  - VIRL-USER-SSH-PUBLIC-KEY
  sudo: ALL=(ALL) ALL
write_files:
- path: /etc/init/ttyS0.conf
  owner: root:root
  content: |
    # ttyS0 - getty
    # This service maintains a getty on ttyS0 from the point the system is
    # started until it is shut down again.
    start on stopped rc or RUNLEVEL=[12345]
    stop on runlevel [!12345]
    respawn
    exec /sbin/getty -L 115200 ttyS0 vt102
  permissions: '0644'
- path: /etc/systemd/system/dhclient@.service
  content: |
    [Unit]
    Description=Run dhclient on %i interface
    After=network.target
    [Service]
    Type=oneshot
    ExecStart=/sbin/dhclient %i -pf /var/run/dhclient.%i.pid -lf /var/lib/dhclient/dhclient.%i.lease
    RemainAfterExit=yes
  owner: root:root
  permissions: '0644'
- path: /etc/rc.local
  owner: root:root
  permissions: '0755'
  content: |-
    #!/bin/sh
    ifconfig eth1 up 10.0.128.3 netmask 255.255.128.0
    route add -host 192.168.0.13 gw 10.0.128.12 dev eth1
    route add -host 192.168.0.14 gw 10.0.128.12 dev eth1
    route add -host 192.168.0.16 gw 10.0.128.12 dev eth1
    route add -host 192.168.0.21 gw 10.0.128.12 dev eth1
    route add -host 192.168.0.24 gw 10.0.128.12 dev eth1
    route add -net 10.0.0.0/16 gw 10.0.128.12 dev eth1
    route add -net 192.168.0.18/31 gw 10.0.128.12 dev eth1
    route add -net 192.168.0.22/31 gw 10.0.128.12 dev eth1
    exit 0
</entry>
        </extensions>
        <interface id="0" name="eth1" ipv4="10.0.128.3" netPrefixLenV4="17"/>
    </node>
    <node name="kali-1" type="SIMPLE" subtype="kali" location="643,443">
        <extensions>
            <entry key="config" type="string">#cloud-config
bootcmd:
- ln -s -t /etc/rc.d /etc/rc.local
hostname: kali-1
manage_etc_hosts: true
runcmd:
- start ttyS0
- systemctl start getty@ttyS0.service
- systemctl start rc-local
- sed -i '/^\s*PasswordAuthentication\s\+no/d' /etc/ssh/sshd_config
- echo "UseDNS no" &gt;&gt; /etc/ssh/sshd_config
- service ssh restart
- service sshd restart
users:
- default
- gecos: User configured by VIRL Configuration Engine 0.23.10
  lock-passwd: false
  name: cisco
  plain-text-passwd: cisco
  shell: /bin/bash
  ssh-authorized-keys:
  - VIRL-USER-SSH-PUBLIC-KEY
  sudo: ALL=(ALL) ALL
write_files:
- path: /etc/init/ttyS0.conf
  owner: root:root
  content: |
    # ttyS0 - getty
    # This service maintains a getty on ttyS0 from the point the system is
    # started until it is shut down again.
    start on stopped rc or RUNLEVEL=[12345]
    stop on runlevel [!12345]
    respawn
    exec /sbin/getty -L 115200 ttyS0 vt102
  permissions: '0644'
- path: /etc/systemd/system/dhclient@.service
  content: |
    [Unit]
    Description=Run dhclient on %i interface
    After=network.target
    [Service]
    Type=oneshot
    ExecStart=/sbin/dhclient %i -pf /var/run/dhclient.%i.pid -lf /var/lib/dhclient/dhclient.%i.lease
    RemainAfterExit=yes
  owner: root:root
  permissions: '0644'
- path: /etc/rc.local
  owner: root:root
  permissions: '0755'
  content: |-
    #!/bin/sh
    ifconfig eth1 up 10.0.128.4 netmask 255.255.128.0
    route add -host 192.168.0.13 gw 10.0.128.12 dev eth1
    route add -host 192.168.0.14 gw 10.0.128.12 dev eth1
    route add -host 192.168.0.16 gw 10.0.128.12 dev eth1
    route add -host 192.168.0.21 gw 10.0.128.12 dev eth1
    route add -host 192.168.0.24 gw 10.0.128.12 dev eth1
    route add -net 10.0.0.0/16 gw 10.0.128.12 dev eth1
    route add -net 192.168.0.18/31 gw 10.0.128.12 dev eth1
    route add -net 192.168.0.22/31 gw 10.0.128.12 dev eth1
    exit 0
</entry>
        </extensions>
        <interface id="0" name="eth1" ipv4="10.0.128.4" netPrefixLenV4="17"/>
    </node>
    <node name="iol-1" type="SIMPLE" subtype="IOL" location="669,151" ipv4="192.168.0.13">
        <extensions>
            <entry key="config" type="string">! IOS Config generated on 2019-07-20 07:12
! by autonetkit_0.24.0
!
hostname iol-1
boot-start-marker
boot-end-marker
!
vrf definition Mgmt-intf
!
 address-family ipv4
 exit-address-family
 !
 address-family ipv6
 exit-address-family
!
!
!
no aaa new-model
!
!
ip cef
ipv6 unicast-routing
ipv6 cef
!
!
service timestamps debug datetime msec
service timestamps log datetime msec
no service password-encryption
no service config
enable password cisco
ip classless
ip subnet-zero
no ip domain lookup
ip domain name virl.info
crypto key generate rsa modulus 768
ip ssh server algorithm authentication password
username cisco privilege 15 secret cisco
line vty 0 4
 transport input ssh telnet
 exec-timeout 720 0
 password cisco
 login local
line con 0
 password cisco
!
no cdp run
!
!
interface Loopback0
  description Loopback
  ip address 192.168.0.13 255.255.255.255
!
interface Ethernet0/0
  description OOB Management
  vrf forwarding Mgmt-intf
  ! Configured on launch
  no ip address
  duplex full
  speed auto
  no shutdown
!
interface Ethernet0/1
  description to unmanagedswitch-1
  ip address 10.0.0.1 255.255.128.0
  ip ospf cost 1
  duplex full
  speed auto
  no shutdown
!
!
!
router ospf 1
  network 192.168.0.13 0.0.0.0 area 0
  log-adjacency-changes
  passive-interface Loopback0
  network 10.0.0.0 0.0.127.255 area 0
!
!
router bgp 1
  bgp router-id 192.168.0.13
  no synchronization
! ibgp
  ! ibgp peers
  !
  neighbor 192.168.0.22 remote-as 1
  neighbor 192.168.0.22 description iBGP peer csr1000v-1
  neighbor 192.168.0.22 update-source Loopback0
  !
  neighbor 192.168.0.14 remote-as 1
  neighbor 192.168.0.14 description iBGP peer iosv-1
  neighbor 192.168.0.14 update-source Loopback0
  !
  neighbor 192.168.0.19 remote-as 1
  neighbor 192.168.0.19 description iBGP peer iosv-2
  neighbor 192.168.0.19 update-source Loopback0
  !
  neighbor 192.168.0.23 remote-as 1
  neighbor 192.168.0.23 description iBGP peer iosxrv9000-1
  neighbor 192.168.0.23 update-source Loopback0
  !
  neighbor 192.168.0.24 remote-as 1
  neighbor 192.168.0.24 description iBGP peer nx-osv9000-1
  neighbor 192.168.0.24 update-source Loopback0
  !
!
 !
 address-family ipv4
  network 192.168.0.13 mask 255.255.255.255
  neighbor 192.168.0.22 activate
  neighbor 192.168.0.14 activate
  neighbor 192.168.0.19 activate
  neighbor 192.168.0.21 activate
  neighbor 192.168.0.23 activate
  neighbor 192.168.0.16 activate
  neighbor 192.168.0.24 activate
  neighbor 192.168.0.18 activate
 exit-address-family
!
!
!
end</entry>
            <entry key="AutoNetkit.mgmt_ip" type="string"></entry>
        </extensions>
        <interface id="0" name="Ethernet0/1" ipv4="10.0.0.1" netPrefixLenV4="17"/>
    </node>
    <node name="iol-l2-1" type="SIMPLE" subtype="IOL-L2" location="669,247">
        <extensions>
            <entry key="config" type="string">! IOSvL2 Config generated on 2019-07-20 07:12
! by autonetkit_0.24.0
!
version 15.2
service timestamps debug datetime msec
service timestamps log datetime msec
no service password-encryption
service compress-config
no service config
enable password cisco
ip classless
ip subnet-zero
no ip domain lookup
!
line vty 0 4
transport input ssh telnet
exec-timeout 720 0
password cisco
login
!
line con 0
password cisco
!
hostname iol-l2-1
!
boot-start-marker
boot-end-marker
!
!
!
no aaa new-model
!
vtp domain virl.lab
vtp mode transparent
!
vlan 2
  name ank_vlan2
!
!
!
!
no cdp run
!
!
!
ip cef
no ipv6 cef
!
!
spanning-tree mode pvst
spanning-tree extend system-id
!
vlan internal allocation policy ascending
!
!
!
!
vrf definition Mgmt-intf
!
 address-family ipv4
 exit-address-family
 !
 address-family ipv6
 exit-address-family
!
!
!
!
!
interface Loopback0
  description Loopback
!
interface Ethernet0/0
  description OOB management
  ! Configured on launch
  no switchport
  vrf forwarding Mgmt-intf
  no ip address
  no shutdown
!
interface Ethernet0/1
  description to unmanagedswitch-1
  switchport access vlan 2
  switchport mode access
  switchport trunk encapsulation dot1q
  switchport mode trunk
  no shutdown
!
!
ip forward-protocol nd
!
no ip http server
no ip http secure-server
!
!
!
!
!
!
control-plane
!
!
!
end
        </entry>
            <entry key="AutoNetkit.mgmt_ip" type="string"></entry>
        </extensions>
        <interface id="0" name="Ethernet0/1"/>
    </node>
    <node name="unmanagedswitch-2" type="SIMPLE" subtype="Unmanaged Switch" location="421,526">
        <interface id="0" name="link1"/>
        <interface id="1" name="link2"/>
        <interface id="2" name="link3"/>
        <interface id="3" name="link4"/>
        <interface id="4" name="link5"/>
        <interface id="5" name="link6"/>
        <interface id="6" name="link7"/>
        <interface id="7" name="link8"/>
        <interface id="8" name="link9"/>
        <interface id="9" name="link10"/>
        <interface id="10" name="link11"/>
        <interface id="11" name="link12"/>
        <interface id="12" name="link13"/>
    </node>
    <node name="ext-router-1" type="ASSET" subtype="EXT-ROUTER" location="213,364">
        <interface id="0" name="link0"/>
    </node>
    <node name="flat-1" type="ASSET" subtype="FLAT" location="304,366">
        <interface id="0" name="link0"/>
    </node>
    <node name="snat-1" type="ASSET" subtype="SNAT" location="487,365">
        <interface id="0" name="link0"/>
    </node>
    <node name="iosv-2" type="SIMPLE" subtype="IOSv" location="391,365" ipv4="192.168.0.19">
        <extensions>
            <entry key="config" type="string">! IOS Config generated on 2019-07-20 07:12
! by autonetkit_0.24.0
!
hostname iosv-2
boot-start-marker
boot-end-marker
!
vrf definition Mgmt-intf
!
 address-family ipv4
 exit-address-family
 !
 address-family ipv6
 exit-address-family
!
!
!
no aaa new-model
!
!
ip cef
ipv6 unicast-routing
ipv6 cef
!
!
service timestamps debug datetime msec
service timestamps log datetime msec
no service password-encryption
no service config
enable password cisco
ip classless
ip subnet-zero
no ip domain lookup
ip domain name virl.info
crypto key generate rsa modulus 768
ip ssh server algorithm authentication password
username cisco privilege 15 secret cisco
line vty 0 4
 transport input ssh telnet
 exec-timeout 720 0
 password cisco
 login local
line con 0
 password cisco
!
no cdp run
!
!
interface Loopback0
  description Loopback
  ip address 192.168.0.19 255.255.255.255
!
interface GigabitEthernet0/0
  description OOB Management
  vrf forwarding Mgmt-intf
  ! Configured on launch
  no ip address
  duplex full
  speed auto
  no shutdown
!
interface GigabitEthernet0/1
  description to flat-1
  no ip address
  duplex full
  speed auto
  no shutdown
!
interface GigabitEthernet0/2
  description to snat-1
  no ip address
  duplex full
  speed auto
  no shutdown
!
interface GigabitEthernet0/3
  description to unmanagedswitch-1
  ip address 10.0.0.8 255.255.128.0
  ip ospf cost 1
  duplex full
  speed auto
  no shutdown
!
interface GigabitEthernet0/4
  description to unmanagedswitch-2
  ip address 10.0.128.12 255.255.128.0
  ip ospf cost 1
  duplex full
  speed auto
  no shutdown
!
!
!
router ospf 1
  network 192.168.0.19 0.0.0.0 area 0
  log-adjacency-changes
  passive-interface Loopback0
  network 10.0.0.0 0.0.127.255 area 0
  network 10.0.128.0 0.0.127.255 area 0
!
!
router bgp 1
  bgp router-id 192.168.0.19
  no synchronization
! ibgp
  ! ibgp peers
  !
  neighbor 192.168.0.22 remote-as 1
  neighbor 192.168.0.22 description iBGP peer csr1000v-1
  neighbor 192.168.0.22 update-source Loopback0
  !
  neighbor 192.168.0.13 remote-as 1
  neighbor 192.168.0.13 description iBGP peer iol-1
  neighbor 192.168.0.13 update-source Loopback0
  !
  neighbor 192.168.0.14 remote-as 1
  neighbor 192.168.0.14 description iBGP peer iosv-1
  neighbor 192.168.0.14 update-source Loopback0
  !
  neighbor 192.168.0.23 remote-as 1
  neighbor 192.168.0.23 description iBGP peer iosxrv9000-1
  neighbor 192.168.0.23 update-source Loopback0
  !
  neighbor 192.168.0.24 remote-as 1
  neighbor 192.168.0.24 description iBGP peer nx-osv9000-1
  neighbor 192.168.0.24 update-source Loopback0
  !
!
 !
 address-family ipv4
  network 192.168.0.19 mask 255.255.255.255
  neighbor 192.168.0.22 activate
  neighbor 192.168.0.13 activate
  neighbor 192.168.0.14 activate
  neighbor 192.168.0.21 activate
  neighbor 192.168.0.23 activate
  neighbor 192.168.0.16 activate
  neighbor 192.168.0.24 activate
  neighbor 192.168.0.18 activate
 exit-address-family
!
!
!
end</entry>
            <entry key="AutoNetkit.mgmt_ip" type="string"></entry>
        </extensions>
        <interface id="0" name="GigabitEthernet0/1"/>
        <interface id="1" name="GigabitEthernet0/2"/>
        <interface id="2" name="GigabitEthernet0/3" ipv4="10.0.0.8" netPrefixLenV4="17"/>
        <interface id="3" name="GigabitEthernet0/4" ipv4="10.0.128.12" netPrefixLenV4="17"/>
    </node>
    <annotations/>
    <connection dst="/virl:topology/virl:node[15]/virl:interface[1]" src="/virl:topology/virl:node[18]/virl:interface[1]"/>
    <connection dst="/virl:topology/virl:node[13]/virl:interface[1]" src="/virl:topology/virl:node[15]/virl:interface[2]"/>
    <connection dst="/virl:topology/virl:node[22]/virl:interface[1]" src="/virl:topology/virl:node[15]/virl:interface[3]"/>
    <connection dst="/virl:topology/virl:node[21]/virl:interface[1]" src="/virl:topology/virl:node[15]/virl:interface[4]"/>
    <connection dst="/virl:topology/virl:node[15]/virl:interface[5]" src="/virl:topology/virl:node[8]/virl:interface[1]"/>
    <connection dst="/virl:topology/virl:node[15]/virl:interface[6]" src="/virl:topology/virl:node[7]/virl:interface[1]"/>
    <connection dst="/virl:topology/virl:node[15]/virl:interface[7]" src="/virl:topology/virl:node[2]/virl:interface[1]"/>
    <connection dst="/virl:topology/virl:node[15]/virl:interface[8]" src="/virl:topology/virl:node[1]/virl:interface[1]"/>
    <connection dst="/virl:topology/virl:node[15]/virl:interface[9]" src="/virl:topology/virl:node[3]/virl:interface[1]"/>
    <connection dst="/virl:topology/virl:node[15]/virl:interface[10]" src="/virl:topology/virl:node[4]/virl:interface[1]"/>
    <connection dst="/virl:topology/virl:node[15]/virl:interface[11]" src="/virl:topology/virl:node[5]/virl:interface[1]"/>
    <connection dst="/virl:topology/virl:node[15]/virl:interface[12]" src="/virl:topology/virl:node[6]/virl:interface[1]"/>
    <connection dst="/virl:topology/virl:node[15]/virl:interface[13]" src="/virl:topology/virl:node[23]/virl:interface[1]"/>
    <connection dst="/virl:topology/virl:node[24]/virl:interface[1]" src="/virl:topology/virl:node[9]/virl:interface[1]"/>
    <connection dst="/virl:topology/virl:node[24]/virl:interface[2]" src="/virl:topology/virl:node[16]/virl:interface[1]"/>
    <connection dst="/virl:topology/virl:node[24]/virl:interface[3]" src="/virl:topology/virl:node[10]/virl:interface[1]"/>
    <connection dst="/virl:topology/virl:node[24]/virl:interface[4]" src="/virl:topology/virl:node[17]/virl:interface[1]"/>
    <connection dst="/virl:topology/virl:node[24]/virl:interface[5]" src="/virl:topology/virl:node[12]/virl:interface[1]"/>
    <connection dst="/virl:topology/virl:node[24]/virl:interface[6]" src="/virl:topology/virl:node[11]/virl:interface[1]"/>
    <connection dst="/virl:topology/virl:node[24]/virl:interface[9]" src="/virl:topology/virl:node[14]/virl:interface[1]"/>
    <connection dst="/virl:topology/virl:node[24]/virl:interface[10]" src="/virl:topology/virl:node[19]/virl:interface[1]"/>
    <connection dst="/virl:topology/virl:node[24]/virl:interface[11]" src="/virl:topology/virl:node[20]/virl:interface[1]"/>
    <connection dst="/virl:topology/virl:node[15]/virl:interface[15]" src="/virl:topology/virl:node[25]/virl:interface[1]"/>
    <connection dst="/virl:topology/virl:node[28]/virl:interface[1]" src="/virl:topology/virl:node[26]/virl:interface[1]"/>
    <connection dst="/virl:topology/virl:node[27]/virl:interface[1]" src="/virl:topology/virl:node[28]/virl:interface[2]"/>
    <connection dst="/virl:topology/virl:node[15]/virl:interface[14]" src="/virl:topology/virl:node[28]/virl:interface[3]"/>
    <connection dst="/virl:topology/virl:node[24]/virl:interface[12]" src="/virl:topology/virl:node[28]/virl:interface[4]"/>
</topology>
